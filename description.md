### Опсиание архитектуры

`src/` - модуль с исходным кодом приложения.<br>
`src/main.py` - точка входа приложения.<br>
`src/api/` - моудуль со всеми реализациями API. Внутри нет никакой логики.<br>
`src/api/v1/` - модуль со всеми реализациями API конкретной версии.<br>
`src/api/v1/base.py` - файл с обрработчиками HTTP-запросов.<br>
`src/core/` - модуль с конфигурационными файлами.<br>
`src/db/` - модуль с объектами БД.<br>
`src/models/` - модуль с классами описывающие таблицы в БД.<br>
`src/services/` - модуль с бизнес логикой.<br>

### src/main.py


1. Небольшая оптимизация сервиса путем замены стандартного JSON-сериализатора 
 на более быструю версию ORJSONResponse написанную на Rust:
```python
app = FastAPI(
    ...
    default_response_class=ORJSONResponse,
    ...
)
```

2. Запуск сервера uvicorn через python чтобы была возможность использовать
 дебагер во время разработки
```python
if __name__ == '__main__':
    uvicorn.run(
        'main:app',
        host=config.PROJECT_HOST,
        port=config.PROJECT_PORT,
    )
```

3. Подключение роутера к сервису
```python
app.include_router(base.router, prefix='/api/v1')
```

### src/api/v1/base.py

1. `router` - объект в котором мы регистрируем все обработчики HTTP-запросов.
```python
router = APIRouter()
```

2. Методы обработки HTTP-запросов:

`.get()` — получение данных с сервера, но не для их изменения. Может передавать
в адресе запроса параметры, например, для фильтрации данных.<br>
`.post()` — создание новых объектов. Служит для передачи чувствительных 
данных на сервер: например, логина и пароля.<br>
`.put()` — полное обновление объектов в БД, а именно — замещение старого 
объекта новым.<br>
`.patch()` — частичное обновление объектов БД.<br>
`.delete()` — удаление объектов.<br>
`.options()` — получение параметров HTTP-соединения и другой служебной 
информации.<br>
`.head()` — получение заголовков ответа. Это аналог метода GET, только без 
тела ответа.<br>
`.trace()` — диагностика и получение сведений о том, какую информацию 
промежуточные серверы добавляют или изменяют в запросе.

### Пример:
```python
@router.get('/')
async def root_handler():
    return {'version': 'v1'} 
```